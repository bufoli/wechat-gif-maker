# 如何查看小程序日志

## 步骤

### 1. 打开微信开发者工具
确保你的小程序项目已经在微信开发者工具中打开。

### 2. 打开调试器面板
在微信开发者工具的底部，你会看到几个标签：
- **编辑器**（代码编辑区域）
- **调试器**（调试工具）
- **模拟器**（预览效果）

点击 **"调试器"** 标签。

### 3. 切换到 Console 标签
在调试器面板中，你会看到多个标签：
- **Console**（控制台日志）⭐ **这个就是我们要看的**
- **Sources**（源代码）
- **Network**（网络请求）
- **AppData**（应用数据）
- **Storage**（本地存储）

点击 **"Console"** 标签。

### 4. 查看日志
在 Console 面板中，你会看到所有的日志输出，包括：
- `console.log()` 输出的信息
- `console.error()` 输出的错误
- `console.warn()` 输出的警告

## 日志示例

当你上传视频时，应该能看到类似这样的日志：

```
开始检测背景颜色，图片路径: /tmp/xxx.jpg
区域1采样: 2400个像素
区域2采样: 2400个像素
区域3采样: 2400个像素
区域4采样: 2400个像素
颜色统计: {...}
✅ 检测到背景颜色: RGB(0, 255, 0), 匹配像素数: 5000
开始处理所有帧，使用阈值60进行抠图...
使用阈值: 60, 计算出的颜色距离阈值: 220.00
🎨 抠图参数: 目标颜色 RGB(0, 255, 0), 阈值: 60, 颜色距离阈值: 220.00
前10个像素颜色样本: [...]
✅ 处理帧完成，透明像素: 15000/57600 (26%)
```

## 如何复制日志

1. 在 Console 面板中，右键点击任意日志
2. 选择 "Copy" 或 "复制"
3. 或者选中日志文本，按 `Cmd+C`（Mac）或 `Ctrl+C`（Windows）复制

## 如果看不到日志

1. **检查是否开启了调试模式**
   - 在模拟器右上角，确保选择了"调试"模式

2. **清除日志**
   - 点击 Console 面板左上角的清除按钮（垃圾桶图标）
   - 然后重新操作（上传视频）

3. **检查代码是否有错误**
   - 如果有红色错误信息，先解决错误
   - 错误会阻止后续代码执行

4. **真机调试**
   - 如果模拟器看不到日志，可以点击"预览"或"真机调试"
   - 在真机上，日志会显示在开发者工具的 Console 中

## 重要提示

- 日志会显示所有 `console.log()` 的输出
- 如果看到 `⚠️` 或 `❌` 标记，说明有问题
- 如果看到 `✅` 标记，说明操作成功
- 如果透明像素百分比很低（<10%），说明背景检测可能不准确
