# 云开发配置详细步骤（小白版）

## 第一步：登录小程序管理后台

### 1.1 打开浏览器
- 打开你的浏览器（Chrome、Safari、Edge 都可以）

### 1.2 访问微信公众平台
- 在地址栏输入：`https://mp.weixin.qq.com`
- 按回车键打开

### 1.3 登录账号
- 如果你已经注册过小程序，直接扫码登录
- 如果没有账号，需要先注册小程序（需要营业执照或个人信息）

### 1.4 进入小程序管理后台
- 登录后，你会看到你的小程序列表
- 点击你要配置的小程序名称，进入管理后台

---

## 第二步：找到云开发入口

### 2.1 查看左侧菜单
登录后，你会看到左侧有一排菜单，包括：
- 首页
- 数据
- 用户
- **开发** ← 点击这个
- 运营
- 设置
等等

### 2.2 点击"开发"菜单
- 点击左侧的 **"开发"** 菜单
- 会展开子菜单，包括：
  - 开发管理
  - **云开发** ← 点击这个
  - 开发设置
  - 等等

### 2.3 点击"云开发"
- 点击 **"云开发"** 选项
- 如果还没开通，会看到一个开通页面

---

## 第三步：开通云开发服务

### 3.1 点击"开通"按钮
- 在云开发页面，你会看到一个大大的 **"开通"** 按钮
- 点击这个按钮

### 3.2 选择计费方式
会弹出两个选项：
- **按量付费**：用多少付多少，适合刚开始使用（推荐选择这个）
- **包年包月**：固定费用，适合大量使用

**建议选择"按量付费"**

### 3.3 创建云开发环境
- 点击"开通"后，会提示你创建环境
- **环境名称**：可以随便起，比如 `gif-maker` 或 `my-app`
- **环境ID**：系统会自动生成，类似 `cloud1-abc123xyz456`
- 点击"确定"或"创建"

### 3.4 记住环境ID
- 创建成功后，会显示你的环境ID
- **非常重要**：把这个ID复制下来，或者截图保存
- 格式类似：`cloud1-0g123456789abcdef`

---

## 第四步：在代码中配置环境ID

### 4.1 打开项目文件
- 在微信开发者工具中，找到左侧文件列表
- 找到 `app.js` 文件
- 双击打开

### 4.2 修改代码
找到这段代码：
```javascript
wx.cloud.init({
  // 如果已配置云开发环境ID，可以在这里指定
  // env: 'your-env-id',
  traceUser: true
})
```

修改为（把 `your-env-id` 替换成你的环境ID）：
```javascript
wx.cloud.init({
  env: 'cloud1-0g123456789abcdef', // 替换成你的环境ID
  traceUser: true
})
```

### 4.3 保存文件
- 按 `Command + S`（Mac）或 `Ctrl + S`（Windows）保存

---

## 第五步：创建云函数（在微信开发者工具中）

### 5.1 打开云开发控制台
- 在微信开发者工具顶部，找到 **"云开发"** 按钮
- 点击打开云开发控制台

### 5.2 创建云函数
- 在云开发控制台中，点击 **"云函数"** 标签
- 点击 **"新建云函数"** 按钮
- 输入函数名称：`videoResample`
- 选择运行环境：**Node.js**
- 点击 **"确定"**

### 5.3 等待创建完成
- 创建完成后，会在项目根目录生成 `cloud/videoResample/` 文件夹
- 里面会有 `index.js` 和 `package.json` 文件

---

## 第六步：上传云函数代码

### 6.1 检查文件是否存在
- 在项目左侧文件列表中
- 找到 `cloud` 文件夹
- 展开后应该看到 `videoResample` 文件夹
- 里面应该有 `index.js` 和 `package.json`

### 6.2 上传云函数
- 在左侧文件列表中，**右键点击** `cloud/videoResample` 文件夹
- 选择 **"上传并部署：云端安装依赖"**
- 等待上传完成（可能需要几分钟）

### 6.3 检查部署状态
- 上传完成后，在云开发控制台的"云函数"页面
- 应该能看到 `videoResample` 函数
- 状态应该显示为"正常"

---

## 第七步：测试功能

### 7.1 重新编译小程序
- 在微信开发者工具中，点击 **"编译"** 按钮
- 等待编译完成

### 7.2 测试视频上传
- 点击首页的上传按钮
- 选择一个视频
- 查看控制台日志，看是否有云函数调用的信息

---

## 常见问题

### Q1: 找不到"开发"菜单
**A**: 确保你已经登录了小程序管理后台，不是个人微信。如果还是没有，可能是权限问题，需要联系小程序管理员。

### Q2: 点击"云开发"提示"未开通"
**A**: 按照第三步操作，点击"开通"按钮即可。

### Q3: 环境ID在哪里找？
**A**: 
- 开通云开发后，在云开发控制台首页就能看到
- 或者在"设置"→"环境设置"中查看

### Q4: 云函数上传失败
**A**: 
- 检查网络连接
- 确保已登录微信开发者工具
- 确保云开发环境已创建

### Q5: 需要付费吗？
**A**: 
- 云开发有免费额度（每天有一定免费调用次数）
- 超出后按量付费，费用很低
- 可以在云开发控制台查看使用量和费用

---

## 重要提示

1. **环境ID很重要**：一定要保存好，配置到代码中
2. **云函数需要部署**：创建后一定要上传部署才能使用
3. **视频处理需要FFmpeg**：目前云函数框架已创建，但完整的视频处理功能需要配置FFmpeg（比较复杂，可以先用简化版本）

---

## 如果遇到问题

如果按照以上步骤操作还是有问题，请告诉我：
1. 你卡在哪一步？
2. 看到了什么错误提示？
3. 截图发给我（如果有）

我会继续帮你解决！
