# 快速部署云函数 - 最简单的方法

## ✅ 你的代码已经是最新的了！

你的代码已经包含了所有必要的功能：
- ✅ `useLocalProcessing: true` 标记
- ✅ `USE_LOCAL_PROCESSING` 错误码
- ✅ 返回 `videoInfo` 对象

现在只需要部署到云端！

## 🚀 部署方法（按顺序尝试）

### 方法1：在微信开发者工具中直接上传（最简单）

1. **确保代码已保存**
   - 在 `cloud/videoToFrames/index.js` 文件中
   - 按 `Cmd+S`（Mac）或 `Ctrl+S`（Windows）保存

2. **在微信开发者工具顶部工具栏查找**
   - 查找"上传"按钮
   - 或者"部署"按钮
   - 或者"云开发"按钮旁边的下拉菜单

3. **点击上传/部署**
   - 选择"上传云函数"
   - 或者"部署云函数"

### 方法2：通过云开发控制台上传代码文件

1. **打开云开发控制台**
   - 点击"云开发"按钮
   - 进入"云函数"页面

2. **点击 `videoToFrames` 这一行**
   - 不是右键，是左键点击
   - 会进入详情页

3. **查找"上传代码"或"编辑代码"**
   - 在详情页中查找这些按钮
   - 点击后可以上传本地文件

4. **选择文件**
   - 选择 `cloud/videoToFrames/index.js` 文件
   - 或者选择整个 `videoToFrames` 文件夹

### 方法3：如果以上都不行，使用在线编辑器

1. **在云开发控制台**
   - 点击 `videoToFrames` 的"版本与配置"
   - 查找"在线编辑"或"编辑代码"按钮

2. **如果没有在线编辑，告诉我**
   - 我会提供其他方法

## 🎯 快速检查清单

- [ ] 代码已保存（Cmd+S 或 Ctrl+S）
- [ ] 在微信开发者工具顶部工具栏查找"上传"或"部署"按钮
- [ ] 或者在云开发控制台查找"上传代码"按钮
- [ ] 部署后，查看"最后更新时间"是否更新

## 📝 部署后测试

部署成功后：
1. **重新编译小程序**（点击"编译"按钮）
2. **上传一个视频测试**
3. **查看控制台日志**，应该能看到：
   ```
   开始处理视频: cloud://...
   视频文件下载成功: /tmp/...
   ⚠️ 云函数环境不支持FFmpeg，返回标记让前端使用本地处理
   ✅ 云函数返回本地处理标记，使用Canvas API提取视频帧
   ```

## 🆘 如果还是找不到部署选项

请告诉我：
1. **在微信开发者工具顶部工具栏**，你看到了哪些按钮？
2. **在云开发控制台的云函数详情页**，你看到了哪些按钮？
3. **或者拍一张截图**，我帮你找部署按钮的位置

---

**重要提示：代码已经是最新的了，现在只需要找到部署按钮并点击即可！**
